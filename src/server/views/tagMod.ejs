<%- include("header", {dialog: true}); %>
<%- include("sidenav", { tags: tags, active: "tags" }); %>

<main class="container-fluid content masonry">
    <% tags.forEach((tag) => { %>
        <div class="masonry-panel">
            <div class="masonry-content">
                <div class="element tag">
                    <div class="content"><%= tag.name %></div>
                    <div class="toolbar">
                        <a class="delete-button tool danger" href="/tags/del/<%= tag.id %>">Delete</a>
                    </div>
                    <div class="comment-bar">
                        <div class="comment"> // Click into to edit</div>
                    </div>
                </div>
            </div>
        </div>
    <% }); %>
</main>

<div class="dialog-wrapper">
    <div class="element tag">
        <form id="tag-edit-form" method="POST">
            <input class="content transparent-text" name="name" autocomplete="off" value="<%= (typeof tag !== "undefined" && tag) ? tag.name : "" %>">
            <span id="content-measure-span" class="measure-span"></span>
            <% if (typeof tag !== "undefined" && tag) { %>
                <div class="toolbar">
                    <a class="delete-button tool danger" href="/tags/del/<%= tag.id %>">Delete</a>
                </div>
            <% } %>
            <div class="comment-bar">
                <div class="comment"> // Click into to edit</div>
            </div>
            <div class="buttons">
                <a role="button" class="btn btn-secondary" href="/tags">Cancel</a>
                <button class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
</div>

<script src="/js/dialog.js"></script>
<%- include("footer", {}) %>
<script src="/js/tags.js"></script>